{"version":3,"sources":["components/AddTask.js","components/TaskTableRow.js","components/TaskTable.js","components/EditTask.js","api/FakeTasksApi.js","reducers/index.js","components/SearchTask.js","components/TaskList.js","actions/index.js","components/Header.js","components/UserGreeting.js","components/AuthApp.js"],"names":["validate","values","errors","name","length","AddTask","addTask","minDate","Date","toISOString","slice","formik","useFormik","initialValues","priority","date","done","finishDate","onSubmit","resetForm","handleSubmit","className","id","type","onChange","handleChange","onBlur","handleBlur","value","placeholder","htmlFor","TaskTableRow","props","task","isFinished","style","textDecoration","backgroundColor","color","index","onClick","onDone","disabled","onEdit","onDelete","TaskTable","tasks","del","edit","map","key","EditTask","update","findIndexByAnId","result","findIndex","Error","FakeTasksApi","getAllTasks","wait","taskToAdd","addedTask","uuidv4","push","replaceTask","taskToReplace","replacedTask","finishTask","taskToFinish","finishedTask","removeTask","taskToRemove","splice","getTasksByFullTextSearch","searchQuery","initialState","loading","error","tasksReducer","state","action","filter","toLowerCase","includes","removedTask","completedTask","payload","SearchTask","search","onInput","TaskList","useReducer","undefined","dispatch","useEffect","TasksAPI","then","setTasks","catch","setError","finally","handleEditTask","updatedTask","taskToUpdate","console","log","e","target","searchInput","taskToComplete","Header","children","UserGreeting","token","onLogout","accessToken","useContext","AuthContext","jwt","decode","email","href","AuthApp"],"mappings":"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","file":"static/js/4.17bcc6b5.chunk.js","sourcesContent":["import React from 'react';\nimport { useFormik } from 'formik';\n\nconst validate = (values) => {\n  const errors = {};\n\n  if (!values.name) {\n    errors.name = 'Required';\n  } else if (values.name.length < 3) {\n    errors.name = 'Must have min 3 characters';\n  }\n\n  return errors;\n};\n\nconst AddTask = ({ addTask }) => {\n  const minDate = new Date().toISOString().slice(0, 10);\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      priority: '',\n      date: minDate,\n      done: false,\n      finishDate: null,\n    },\n    validate,\n    onSubmit: (values, { resetForm }) => {\n      addTask(values);\n      resetForm();\n    },\n  });\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit}>\n        <div className=\"form-group\">\n          <input\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            value={formik.values.name}\n            className=\"form-control\"\n            placeholder=\"add task\"\n          />\n          {formik.errors.name ? (\n            <div className=\"alert alert-danger\">{formik.errors.name}</div>\n          ) : null}\n        </div>\n        <div className=\"form-group form-check\">\n          <input\n            id=\"priority\"\n            name=\"priority\"\n            type=\"checkbox\"\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            value={formik.values.priority}\n            className=\"form-check-input\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"priority\">\n            priorytet\n          </label>\n        </div>\n        <button className=\"btn btn-block btn-outline-warning\" type=\"submit\">\n          Dodaj\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default AddTask;\n","import React from 'react';\r\n\r\nfunction TaskTableRow(props) {\r\n  const { name, done, finishDate, priority, date } = props.task;\r\n  const isFinished = done;\r\n  const style = {};\r\n  if (done) {\r\n    style.textDecoration = 'line-through';\r\n    style.backgroundColor = 'orange';\r\n  }\r\n  if (priority) {\r\n    style.color = 'red';\r\n  }\r\n  return (\r\n    <tr style={style}>\r\n      <td>{props.index + 1}</td>\r\n      <td>{name}</td>\r\n      <td>{date}</td>\r\n      <td>{finishDate}</td>\r\n      <td>\r\n        <button\r\n          className=\"btn btn-sm btn-outline-primary\"\r\n          onClick={props.onDone}\r\n          disabled={isFinished}\r\n        >\r\n          finish\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button\r\n          className=\"btn btn-sm btn-outline-secondary\"\r\n          onClick={props.onEdit}\r\n          disabled={isFinished}\r\n        >\r\n          edit\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button className=\"btn btn-sm btn-outline-danger\" onClick={props.onDelete}>\r\n          delete\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\nexport default TaskTableRow;\r\n","import React from 'react';\nimport TaskTableRow from './TaskTableRow';\n\nfunction TaskTable({ tasks, del, done, edit }) {\n  return (\n    <table className=\"table table-info table-hover table-striped table-responsive{-sm|-md|-lg|-xl}\">\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>task name</th>\n          <th>add task</th>\n          <th>finish date</th>\n          <th>ok</th>\n          <th>edit</th>\n          <th>del</th>\n        </tr>\n      </thead>\n      <tbody>\n        {tasks.map((task, index) => (\n          <TaskTableRow\n            key={task.id}\n            index={index}\n            task={task}\n            onDelete={() => del(task)}\n            onDone={() => done(task)}\n            onEdit={() => edit(task)}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nexport default TaskTable;\n","import React from 'react';\nimport { useFormik } from 'formik';\n\nconst validate = (values) => {\n  const errors = {};\n  if (!values.name) {\n    errors.name = 'Required';\n  } else if (values.name.length < 3) {\n    errors.name = 'Must have min 3 characters';\n  }\n  return errors;\n};\n\nconst EditTask = ({ update, edit, task }) => {\n  const { name } = task;\n  const formik = useFormik({\n    initialValues: {\n      name,\n    },\n    validate,\n    onSubmit: ({ name }) => {\n      update({ ...task, name });\n    },\n  });\n  return (\n    <div className=\"jumbotron bg-dark text-white\">\n      <form onSubmit={formik.handleSubmit}>\n        <div className=\"form-group\">\n          <input\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            value={formik.values.name}\n            className=\"form-control\"\n          />\n          {formik.errors.name ? (\n            <div className=\"alert alert-danger\">{formik.errors.name}</div>\n          ) : null}\n        </div>\n        <div className=\"form-group\">\n          <button className=\"btn btn-block btn-outline-warning\" type=\"submit\">\n            Edytuj\n          </button>\n        </div>\n        <div className=\"form-group\">\n          <button className=\"btn btn-block btn-outline-danger\" onClick={edit}>\n            cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditTask;\n","import { v4 as uuidv4 } from 'uuid';\nimport { wait } from './wait';\n\nconst tasks = [\n  {\n    id: 1,\n    date: '2020-02-03',\n    done: false,\n    finishDate: null,\n    name: 'nauczyć się js es 6',\n    priority: false,\n  },\n  {\n    id: 2,\n    date: '2020-02-04',\n    done: false,\n    finishDate: null,\n    name: 'nauczyć się biblioteki axios',\n    priority: true,\n  },\n  {\n    id: 3,\n    date: '2020-03-03',\n    done: false,\n    finishDate: null,\n    name: 'zainstalować linuxa',\n    priority: false,\n  },\n  {\n    id: 4,\n    date: '2020-04-09',\n    done: false,\n    finishDate: null,\n    name: 'zrobić api w laravelu',\n    priority: false,\n  },\n];\n\nfunction findIndexByAnId(id) {\n  const result = tasks.findIndex((task) => task.id === id);\n  if (result < 0) {\n    throw new Error('task o podanym id nie istnieje');\n  }\n  return result;\n}\n\nconst FakeTasksApi = {\n  async getAllTasks() {\n    await wait(200);\n    return [...tasks];\n  },\n  async addTask(taskToAdd) {\n    await wait(200);\n    const addedTask = { id: uuidv4(), ...taskToAdd };\n    tasks.push(addedTask);\n\n    return addedTask;\n  },\n  async replaceTask(taskToReplace) {\n    await wait(200);\n    if (!taskToReplace.id) {\n      throw new Error('task has to have an id to be updated');\n    }\n    const index = findIndexByAnId(taskToReplace.id);\n    const replacedTask = { ...taskToReplace };\n    tasks[index] = replacedTask;\n    return replacedTask;\n  },\n  async finishTask(taskToFinish) {\n    await wait(200);\n    if (!taskToFinish.id) {\n      throw new Error('task has to have an id to be finished');\n    }\n\n    const finishedTask = {\n      ...taskToFinish,\n      done: true,\n      finishDate: new Date().toISOString().slice(0, 10),\n    };\n    const index = findIndexByAnId(taskToFinish.id);\n    tasks[index] = finishedTask;\n    return finishedTask;\n  },\n  async removeTask(taskToRemove) {\n    await wait(200);\n    if (!taskToRemove.id) {\n      throw new Error('task has to have an id to be deleted');\n    }\n\n    const index = findIndexByAnId(taskToRemove.id);\n    tasks.splice(index, 1);\n  },\n  async getTasksByFullTextSearch(searchQuery) {\n    await wait(200);\n    return searchQuery;\n  },\n};\n\nexport default FakeTasksApi;\n","const initialState = {\n  tasks: [],\n  searchQuery: '',\n  edit: false,\n  loading: true,\n  error: null,\n};\n\nexport const tasksReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case 'SET_TASKS': {\n      const { tasks } = action;\n      return { ...state, tasks };\n    }\n    case 'SEARCH_TASK': {\n      const tasks = state.tasks.filter(({ name }) =>\n        name.toLowerCase().includes(state.searchQuery),\n      );\n      return { ...state, tasks };\n    }\n    case 'ADD_TASK': {\n      const { task } = action;\n      const tasks = [...state.tasks, task];\n      return { ...state, tasks };\n    }\n    case 'REPLACE_TASK': {\n      const { replacedTask } = action;\n      const tasks = state.tasks.map((task) => (task.id === replacedTask.id ? replacedTask : task));\n      return { ...state, tasks, edit: false };\n    }\n    case 'DELETE_TASK': {\n      const { removedTask } = action;\n      const tasks = state.tasks.filter((task) => task.id !== removedTask.id);\n      return { ...state, tasks };\n    }\n    case 'TASK_EDIT_START': {\n      const task = { action };\n      return { ...state, task, edit: !state.edit };\n    }\n    case 'COMPLETE_TASK': {\n      const { completedTask } = action;\n      const tasks = state.tasks.map((task) => {\n        if (task.id === completedTask.id) {\n          task.done = !task.done;\n          task.finishDate = task.done ? new Date().toISOString().slice(0, 10) : null;\n        }\n        return task;\n      });\n      return { ...state, tasks };\n    }\n    case 'SET_ERROR': {\n      const { error } = action;\n      return { ...state, error };\n    }\n    case 'LOADING': {\n      return { ...state, loading: false };\n    }\n    case 'SEARCH_INPUT': {\n      const { payload } = action;\n      return {\n        ...state,\n        searchQuery: payload,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\r\n\r\nfunction SearchTask({search}) {\r\n  return (\r\n      <div className=\"form-group mt-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"search task\"\r\n          className=\"form-control\"\r\n          onInput={search}\r\n        />\r\n      </div>\r\n  );\r\n}\r\nexport default SearchTask;\r\n","import React, { useReducer, useEffect } from 'react';\n// import AuthContext from '../context/AuthContext';\nimport AddTask from './AddTask';\nimport TaskTable from './TaskTable';\nimport EditTask from './EditTask';\nimport TasksAPI from '../api/FakeTasksApi';\nimport { tasksReducer } from '../reducers';\nimport {\n  setTasks,\n  setError,\n  loadingIndicator,\n  deleteTask,\n  addTask,\n  replaceTask,\n  searchInput,\n  searchTask,\n} from '../actions';\n\nimport SearchTask from './SearchTask';\n\nfunction TaskList() {\n  const [state, dispatch] = useReducer(tasksReducer, undefined, tasksReducer);\n  // const { accessToken } = useContext(AuthContext);\n\n  useEffect(() => {\n    TasksAPI.getAllTasks()\n      .then((tasks) => dispatch(setTasks(tasks)))\n      .catch((error) => dispatch(setError(error)))\n      .finally(() => dispatch(loadingIndicator()));\n    TasksAPI.getTasksByFullTextSearch(state.searchQuery).then(() => {\n      dispatch(searchTask());\n    });\n  }, [state.searchQuery]);\n\n  const removeTask = (taskToRemove) => {\n    TasksAPI.removeTask(taskToRemove).then(() => dispatch(deleteTask(taskToRemove)));\n  };\n\n  const handleCreate = (task) => {\n    try {\n      TasksAPI.addTask(task).then((addedTask) => dispatch(addTask(addedTask)));\n    } catch (error) {\n      console.log('Jest błąd przy tworzeniu taska:', error);\n    }\n  };\n\n  const handleEditTask = (task) => {\n    dispatch({ type: 'TASK_EDIT_START', task });\n  };\n\n  const handleDoneTask = (taskToComplete) => {\n    TasksAPI.finishTask(taskToComplete).then(() =>\n      dispatch({ type: 'COMPLETE_TASK', completedTask: taskToComplete }),\n    );\n  };\n\n  const { tasks, edit, error, loading } = state;\n\n  return (\n    <>\n      {edit ? (\n        <EditTask\n          task={state.task.action.task}\n          update={(updatedTask) => {\n            const taskToUpdate = { ...state.task, ...updatedTask };\n            TasksAPI.replaceTask(taskToUpdate).then((replacedTask) =>\n              dispatch(replaceTask(replacedTask)),\n            );\n          }}\n          edit={handleEditTask}\n        />\n      ) : (\n        <>\n          <div className=\"jumbotron bg-dark text-white col-{-sm|-md|-lg|-xl}\">\n            <AddTask addTask={handleCreate} />\n            <SearchTask search={(e) => dispatch(searchInput(e))} />\n          </div>\n          {error ? 'Nie udało się załadować :(' : null}\n          {loading ? 'taski się ładują...' : null}\n\n          <TaskTable\n            loading={loading}\n            tasks={tasks}\n            del={removeTask}\n            done={handleDoneTask}\n            edit={handleEditTask}\n          />\n        </>\n      )}\n    </>\n  );\n}\n\nexport default TaskList;\n","export const setTasks = (tasks) => ({ type: \"SET_TASKS\", tasks });\r\nexport const addTask = (task) => ({ type: \"ADD_TASK\", task });\r\nexport const setError = (error) => ({ type: \"SET_ERROR\", error });\r\nexport const deleteTask = (removedTask) => ({\r\n  type: \"DELETE_TASK\",\r\n  removedTask,\r\n});\r\nexport const loadingIndicator = () => ({ type: \"LOADING\" });\r\nexport const replaceTask = (replacedTask) => ({\r\n  type: \"REPLACE_TASK\",\r\n  replacedTask,\r\n});\r\nexport const searchInput = (e) => ({\r\n  type: \"SEARCH_INPUT\",\r\n  payload: e.target.value.toLowerCase(),\r\n});\r\nexport const searchTask = () => ({\r\n  type: \"SEARCH_TASK\",\r\n});\r\n","import React from 'react';\n\nfunction Header({ children }) {\n  if (children.length < 1) {\n    throw new Error('Header has to have at least one child!');\n  }\n  return <header className=\"card bg-warning text-white\">{children}</header>;\n}\n\nexport default Header;\n","import React, { useContext } from \"react\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nfunction UserGreeting({ onLogout }) {\r\n  const { accessToken } = useContext(AuthContext);\r\n  return (\r\n    <>\r\n      {accessToken ? (\r\n        <>\r\n          <div className=\"card-body\">\r\n            <h3 className=\"card-title text-center\">TASKS LIST</h3>\r\n            <p className=\"card-text text-right\">\r\n              Witaj {getUserEmail(accessToken)} /\r\n              <a href=\"#\" className=\"\" onClick={onLogout}>\r\n                wyloguj się\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserGreeting;\r\n\r\nfunction getUserEmail(token) {\r\n  const decodedToken = jwt.decode(token);\r\n  return decodedToken.email;\r\n}\r\n","import React from 'react';\nimport TaskList from './TaskList';\nimport Header from './Header';\nimport UserGreeting from './UserGreeting';\n\nfunction AuthApp({ onLogout }) {\n  return (\n    <>\n      <Header>\n        <UserGreeting onLogout={onLogout} />\n      </Header>\n      <TaskList />\n    </>\n  );\n}\n\nexport default AuthApp;\n"],"sourceRoot":""}