(this["webpackJsonpcra-tasks"]=this["webpackJsonpcra-tasks"]||[]).push([[0],{123:function(e,t,n){"use strict";var a=n(0),o=n.n(a).a.createContext({accessToken:null});t.a=o},125:function(e,t,n){"use strict";function a(e){return new Promise((function(t){setTimeout(t,e)}))}n.d(t,"a",(function(){return a}))},130:function(e,t,n){e.exports=n(256)},138:function(e,t){},140:function(e,t){},153:function(e,t){},155:function(e,t){},183:function(e,t){},185:function(e,t){},186:function(e,t){},192:function(e,t){},194:function(e,t){},212:function(e,t){},215:function(e,t){},231:function(e,t){},234:function(e,t){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(126),c=n.n(r),s=n(36),i=n(37),l=n(41),u=n(40),m=n(66),h=n.n(m),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1},e}return Object(i.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("Wyst\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(o.a.Component),f=n(123),p=n(60),g=n.n(p),v=n(124),b=n(125),k={login:function(e){return Object(v.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)(200);case 2:if(n=e.email,a=e.password,"hubert@example.com"!==n||"secret"!==a){t.next=5;break}return t.abrupt("return",{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJvYkBleGFtcGxlLmNvbSIsImlhdCI6MTU4OTg3OTkxNywiZXhwIjoxNTg5ODgzNTE3LCJzdWIiOiIyIn0.BRhgk1nXn4eDRrwei_No0EVom6uv8feCTOYLGOl-j1E"});case 5:throw new Error("invalid credentials");case 6:case"end":return t.stop()}}),t)})))()}},w=n(64),E=n(61),I=function(e){var t=e.onLoginAttempt,n=e.errorMessage,a=Object(w.a)({initialValues:{email:"hubert@example.com",password:"secret"},onSubmit:function(e){t(e)}});return o.a.createElement("form",{onSubmit:a.handleSubmit,className:"jumbotron bg-dark text-white"},n?o.a.createElement("div",{className:"text text-center text-danger"},n):null,o.a.createElement(E.a,{name:"email",type:"text",label:"Email:",value:a.values.email,onChange:a.handleChange,onBlur:a.handleBlur}),o.a.createElement(E.a,{name:"password",type:"password",label:"Password:",value:a.values.password,onChange:a.handleChange,onBlur:a.handleBlur}),o.a.createElement("button",{type:"submit",className:"btn btn-block btn-outline-warning"},"Submit"))},y=o.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,269))})),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={accessToken:null,previousLoginAttemptFailed:!1,expiresIn:36e5},e.handleLoginAttempt=function(t){k.login(t).then((function(t){var n=t.accessToken;localStorage.setItem("accessToken",n),e.getAccessToken()})).catch((function(){e.setState({accessToken:null,previousLoginAttemptFailed:!0})}))},e.handleLogout=function(){e.setState({accessToken:localStorage.removeItem("accessToken"),previousLoginAttemptFailed:!1})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getAccessToken(),this.intID=setInterval((function(){e.handleLogout()}),this.state.expiresIn)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intID)}},{key:"getAccessToken",value:function(){this.setState({accessToken:localStorage.getItem("accessToken"),previousLoginAttemptFailed:!1})}},{key:"getUserExpires",value:function(e){return h.a.decode(e)}},{key:"isUserLoggedIn",value:function(){return!!this.state.accessToken}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,{message:"Co\u015b nie dzia\u0142a w ca\u0142ej aplikacji"},this.isUserLoggedIn()?o.a.createElement(f.a.Provider,{value:{accessToken:this.state.accessToken}},o.a.createElement(o.a.Suspense,{fallback:"... Loading"},o.a.createElement(y,{onLogout:this.handleLogout}))):o.a.createElement(I,{errorMessage:this.state.previousLoginAttemptFailed?"Nie uda\u0142o si\u0119 zalogowa\u0107":null,onLoginAttempt:this.handleLoginAttempt})))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(255);c.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=Object.assign({},e);return o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-form-label text-md-left col-md-2"},t.label),o.a.createElement("div",{className:"col-md-12"},o.a.createElement("input",Object.assign({},t,{className:"form-control"}))))}}},[[130,1,2]]]);
//# sourceMappingURL=main.9e15c09a.chunk.js.map